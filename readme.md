# secrdesignapp 2.0

**secrdesignapp** is a partial interactive interface to the R package [secrdesign](https://CRAN.R-project.org/package=secrdesign) (Efford 2025a). 
It is a handy way to explore options for the design of spatial capture--recapture studies of animal populations, 
as described at length in the online [SECR Book] (Efford 2025b).
See the internal Help tab for details.

### Usage

Click this link to run [secrdesignapp](https://www.stats.otago.ac.nz/secrdesignapp) version 2.0 in your web browser from a University of Otago server without installing it locally.

It may be better to run **secrdesignapp** on your own machine: simulations may run faster, and you can install the latest the GitHub version. 
Also, there is a limit to the number of simultaneous users on the server.

To run in a local R session directly from GitHub, paste and run this code at the R command prompt:

```r
install.packages("shinyjs")  # skip if already installed; installs 'shiny' if needed
install.packages("secr")     # skip if already installed
shiny::runGitHub("secrdesignapp", "MurrayEfford")
```
Version 2.0 requires secr >= 5.3.0 and secrdesign >= 2.10.0. 
Other R packages may be needed for specific operations (e.g., **sf** for GIS).

----

### Test data

Some test data are provided:

| File name | Description | Usage |
|--------|-------------------------------|------------------|
ovtrap.txt | Locations of possum traps in the Orongorongo Valley | Design - File input of detector array |
ovmask.txt | text file of possible mask for possum study | Habitat mask - File|
OVforest.dbf | ESRI polygon shapefile extent of habitat near possum traps | Design - Region and Options - Habitat clip to polygons |
OVforest.shp |||
OVforest.shx |||
excltest.txt | OV polygon to demonstrate exclusion feature | Options - Detector array - Excluded region |
regionxy.txt | text file of a hypothetical study area boundary |Design - Region and Options - Habitat clip to polygons|

### Bookmarking

Bookmarking is an experimental way to store the state of **secrdesignapp** and pick up where you left off. 
If you intend to use bookmarking on your local machine then specify the 'port' and 'destdir' arguments, e.g.,

```r
shiny::runGitHub("secrdesignapp", "MurrayEfford", port = 8000, destdir = "d:/density secr 5.3/testing")
```
The URL generated by pressing the Bookmark button may then be entered into your browser once you have 
started a new session with the same 'port' and 'destdir'. This restores all input settings and the 
Summary table, but not results on the Simulation or Spacing pages. 

### History

Version 1.0 (December 2018)  
Version 1.1 (December 2018) support for systematic and random designs within a region of interest.  
version 1.2 (February 2019) many small improvements, including traffic lights and other warnings.  
Version 1.3 (July 2019) among other minor improvements,  

* user control of traffic light thresholds
* user-specified 2-D distribution models for *simulated* activity centres ('cluster' and 'even' as alternatives to Poisson)
* optional file input of habitat mask
* display raw text file input for detectors, mask

Version 1.4 (January 2020) lacework designs; withdraws `openCR.fit` as a model-fitting option.  
Version 1.5 (January 2022) minor updates in the Help file and GRTS random samples suppressed (later restored).  
Version 1.6 (October 2022) support for optimization of detector placement by a genetic algorithm (Durbach et al. 2021) and restores GRTS random samples that now available again in **secr**.  
Version 2.0 (November 2025) adjustments for recent versions of **secr** and **secrdesign** and several minor improvements. 
Errors now appear in a Log. The internal Help has been edited and refers to the [SECR book] (Efford 2025b). 
The default number of cores for simulation increased from one to half the total number available.  

### References

Durbach, I., Borchers, D., Sutherland, C. and Sharma, K. (2021) Fast, flexible 
alternatives to regular grid designs for spatial capture--recapture. 
*Methods in Ecology and Evolution* **12**, 298--310. https://doi.org/10.1111/2041-210X.13517

Efford, M. G. (2025a) secrdesign: Sampling design for spatially explicit 
capture--recapture. R package version 2.10.0.
  https://CRAN.R-project.org/package=secrdesign

Efford, M. G. (2025b) The SECR Book. A handbook of spatially explicit capture&ndash;recapture methods. Version 1.0.1.
Zenodo 15109938. Latest version online at https://murrayefford.github.io/SECRbook/.

Efford, M. G. and Boulanger, J. (2019) Fast evaluation of study designs for spatially explicit capture--recapture. 
*Methods in Ecology and Evolution* **10**, 1529--1535.  https://doi.org/10.1111/2041-210X.13239

[SECR book]: https://murrayefford.github.io/SECRbook/