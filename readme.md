# secrdesignapp 2.0

secrdesignapp is a partial interactive interface to the R package [secrdesign](https://CRAN.R-project.org/package=secrdesign). See the Help tab for details.

The main new feature in version 1.1 was support for systematic and random designs within a region of interest, and version 1.2 had many small improvements, including traffic lights and other warnings. 

Version 1.3 (July 2019) introduced -

* user control of traffic light thresholds
* user-specified 2-D distribution models for *simulated* activity centres ('cluster' and 'even' as alternatives to Poisson)
* optional file input of habitat mask
* display raw text file input for detectors, mask

along with other minor improvements.

Version 1.4 (January 2020) supports lacework designs (to be introduced in the next release of **secr**) and no longer offers `openCR.fit` as a model-fitting option (**secr** 4.0 onwards has fast `secr.fit`).

Version 1.5 (January 2022) has minor updates in the Help file and suppresses GRTS random samples that are not available in recent releases of **secr**.

Version 1.6 (October 2022) adds support for optimization of detector placement by a genetic algorithm (Durbach et al. 2021) and restores GRTS random samples that now available again in **secr**.

Version 2.0 (November 2025) has minor adjustments for recent **secr**, **secrdesign** versions.

Click this link to run secrdesignapp 1.5 in your web browser from a University of Otago server:

[secrdesignapp](https://www.stats.otago.ac.nz/secrdesignapp)

Simulations may run faster on your own machine, and the GitHub version is always the latest. There is also a limit to the number of concurrent users on the server. To run in a local R session directly from GitHub, first install R packages 'shiny', 'sf' and 'shinyjs'; then paste and run this code at the R command prompt:

```r
library(shiny)
runGitHub("secrdesignapp", "MurrayEfford")
```
Version 2.0 requires secr >= 5.3.0 and secrdesign >= 2.10.0. Various other R packages may be needed for specific operations.

If you intend to use bookmarking on your local machine to store the state of `secrdesignapp` then specify the 'port' and 'destdir' arguments, e.g.,

```r
library(shiny)
runGitHub("secrdesignapp", "MurrayEfford", port = 8000, destdir = "d:/density secr 4.5/testing")
```
The URL generated by pressing the Bookmark button may then be entered into your browser once you have started a new session with the same 'port' and 'destdir'. This restores all input settings and the Summary table, but not results on the Simulation or Spacing pages. 

----

Some test data are provided:

| File name | Description | Usage |
|--------|-------------------------------|------------------|
ovtrap.txt | Locations of possum traps in the Orongorongo Valley | Design - File input of detector array |
ovmask.txt | text file of possible mask for possum study | Habitat mask - File|
OVforest.dbf | ESRI polygon shapefile extent of habitat near possum traps | Design - Region and Options - Habitat clip to polygons |
OVforest.shp |||
OVforest.shx |||
excltest.txt | OV polygon to demonstrate exclusion feature | Options - Detector array - Excluded region |
regionxy.txt | text file of a hypothetical study area boundary |Design - Region and Options - Habitat clip to polygons|

### Reference

Durbach, I., Borchers, D., Sutherland, C. and Sharma, K. (2021) Fast, flexible 
alternatives to regular grid designs for spatial capture--recapture. 
*Methods in Ecology and Evolution* **12**, 298--310. DOI 10.1111/2041-210X.13517

Efford, M. G. and Boulanger, J. (2019) Fast evaluation of study designs for spatially explicit capture--recapture. *Methods in Ecology and Evolution* **10**, 1529--1535.
